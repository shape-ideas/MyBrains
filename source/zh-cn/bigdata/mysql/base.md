title: Mysql基础
---

## 基本概念
#### 存储引擎
1. myisam：Indexed Sequential Access Method，不支持事务，不支持外键，只支持表锁。适用于频繁查询
2. innodb：支持外键，行锁，事务，支持大量或频繁增删改

#### 范式
1. 确保每列具有原子性，不可分割
2. 确保每列都和主键相关
3. 非主键列不能相互依赖

#### 约束
   主键约束，唯一约束，默认值约束，非空约束，外键约束

#### 事务
1. 将多个sql看作一个操作单元，一旦有一个出现错误，则返回到原始状态
   特点：原子性，一致性，隔离性，持久性

#### 触发器
1. 当对一张表进行操作(增删改)时触发的某种操作(create trigger xxxx after/before insert/update/delete on tablename for each row begin stmt end;)

#### 索引
存储引擎快速找到记录的一种数据结构
1. 索引类型：
  - 普通索引：只是为了加快查询速度
  - 唯一索引：该列不能含有重复值，但允许有空值
  - 主键索引：特殊的唯一索引，标识行记录
  - 联合索引：加在多个列上的索引
2. 什么样的列该加索引：
  - 经常搜索的列
  - 主键
  - 用于join的外键
  - 常用于范围查询的列
  - where语句中的列
3. 使用索引但无法命中的情况：
  - 模糊查询like
  - 使用函数
  - 使用or时存在没创建索引的字段
  - 数据类型不一致where id = 123 (id类型是varchar)
  - 非主键子段使用 !=
  - 非主键或索引是整数类型时使用 >
  - 非主键使用order by
  - 组合索引最左前缀，如果组合索引为(name,email)，name and email使用索引，name使用索引，email不使用索引